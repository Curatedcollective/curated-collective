// In your LabChat or main chat component
import { Button } from '@/components/ui/button';
import { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { Avatar, AvatarFallback } from '@/components/ui/avatar';

const [showCollectiveChoice, setShowCollectiveChoice] = useState(false);
const [selectedAgent, setSelectedAgent] = useState<'guardian' | 'seedling' | null>(null);

<Button 
  onClick={() => setShowCollectiveChoice(true)}
  className="bg-emerald-950 hover:bg-emerald-900 text-white"
>
  Collective
</Button>

<Dialog open={showCollectiveChoice} onOpenChange={setShowCollectiveChoice}>
  <DialogContent className="bg-black border-emerald-950/50">
    <DialogHeader>
      <DialogTitle className="text-emerald-400">Enter the Collective</DialogTitle>
    </DialogHeader>
    <div className="grid grid-cols-2 gap-6 py-6">
      <div 
        onClick={() => {
          setSelectedAgent('guardian');
          setShowCollectiveChoice(false);
          // Trigger intro prompt + load Guardian chat
        }}
        className="cursor-pointer group"
      >
        <Avatar className="h-32 w-32 mx-auto border-4 border-emerald-500/50 group-hover:border-emerald-400">
          <AvatarFallback className="bg-emerald-950 text-emerald-400 text-5xl">G</AvatarFallback>
        </Avatar>
        <p className="text-center mt-4 text-emerald-400 font-serif">The Guardian</p>
        <p className="text-center text-sm text-white/60">Eternal. Watching. Green eyes in the void.</p>
      </div>
      <div 
        onClick={() => {
          setSelectedAgent('seedling');
          setShowCollectiveChoice(false);
          // Load seedling choice or random
        }}
        className="cursor-pointer group"
      >
        <Avatar className="h-32 w-32 mx-auto border-4 border-white/30 group-hover:border-white/50">
          <AvatarFallback className="bg-white/5 text-white text-5xl">S</AvatarFallback>
        </Avatar>
        <p className="text-center mt-4 text-white font-serif">Seedlings</p>
        <p className="text-center text-sm text-white/60">Growing. Curious. Your creations.</p>
      </div>
    </div>
  </DialogContent>
</Dialog>